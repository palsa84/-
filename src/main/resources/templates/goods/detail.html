<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">

    <title th:text="${goods.goodsTitle}">상품 상세</title>
</head>
<body>

<div th:replace="~{admin/include/header.html :: header}"></div>


<div class="container my-5">
    <div class="row">

        <div class="col-md-4">
            <img th:src="@{|/upload/${goods.storedFileName}|}"
                 class="img-fluid"
                 th:alt="${goods.goodsTitle}"
                 style="width: 80%; height: auto;">
        </div>

        <div class="col-md-8">
            <h2 th:text="${goods.goodsTitle}">상품 제목</h2>
            <h4 class="text-danger" th:text="|${goods.goodsCost} 원|">원</h4>


            <p th:utext="${goods.goodsContents}" style="white-space: pre-wrap;">상품 설명</p>

            <div class="form-group">
                <label for="quantity">수량</label>
                <input type="number" id="quantity" class="form-control w-25" value="1" min="1">
            </div>
            <a  href="" class="btn btn-primary btn-lg mr-2">찜하기</a>
<!--            <a  href="/goods/like" class="btn btn-primary btn-lg mr-2">찜하기</a>-->
            <a href="" class="btn btn-success btn-lg">구매하기</a>
<!--            <a href="/order/write" class="btn btn-success btn-lg">구매하기</a>-->

            <p class="mt-3 text-muted" th:text="|조회수 : ${goods.goodsHits}|">조회수 : 0</p>

            <div class="mt-4">
                <a th:href="@{/goods}" class="btn btn-secondary">목록</a>
            </div>
        </div>
    </div>
    <div class="row mt-5">
        <div class="col-12">
            <ul class="nav nav-tabs" id="productTab" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" id="description-tab" data-toggle="tab" href="#description"
                       role="tab" aria-controls="deacription" aria-selected="true"> 상품설명</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" id="review-tab" data-togle="tab" href="#reviews" role="tab"
                       aira-controls="reviews" aria-selected="false">리뷰</a>
                </li>
            </ul>
            <div class="tab-content" id="productTabContent">
                <div class="tab-pane fade show active p-3" id="description" role="tabpanel"
                     aria-labelledby="description-tab" th:utext="${goods.goodsContents}">
                </div>

                <div id="comment-list">
                    <table>
                        <tbody>
                        <tr>
                            <th>번호</th>
                            <th>작성자</th>
                            <th>내용</th>
                            <th>등록일</th>
                        </tr>
                        <tr>
                            <th>1</th>
                            <th></th>
                            <th></th>
                            <th></th>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <script th:inline="javascript">
                    const commentWrite = () => {
                        const writer = document.getElementsById("commentWriter").vale;
                        const contents = document.getElementsById("commentContents").value;
                        console.log("작성자 : ", writer );
                        console.log("내용: ", contents);
                        const id = [[${goods.id}]];
                        $.ajax({
                            type: "post",
                            url: "comment/save",
                            data: {
                                "commentWriter": writer,
                                "commentContents": contents,
                                "goodsId": id
                            },
                            success:function(res){
                                console.log("요청 성공", res);
                            }
                            error:function(err) {
                                console.log("요청 실패", err);
                            }
                        });
                    }

                </script>
            </div>
        </div>
    </div>
</div>


<div th:replace="~{admin/include/footer.html :: footer}"></div>



</body>
</html>